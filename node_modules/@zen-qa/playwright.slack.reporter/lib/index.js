"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const axios_1 = __importDefault(require("axios"));
const slack_payload_1 = __importDefault(require("./slack.payload"));
/**
 * Expects result file to be called "results.json"
 * webhookUrl: slack webhook url
 * testEnv: To publish in Slack in which env your tests are run
 */
async function slackReport(webhookUrl, testEnv) {
    const options = {
        url: webhookUrl,
        method: 'post',
        data: (0, slack_payload_1.default)(testEnv),
    };
    (0, axios_1.default)(options).catch((e) => console.log('Slack Api Error -> ', e.message));
}
exports.default = slackReport;
